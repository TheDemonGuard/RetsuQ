<style>
 .dashboard-owner-options > img {
  width: 50px;
  height: 50px;
 }
</style>

<div class="container pt-5 dashboard-wrapper">
  <div class="row">
    <div class="col-8 dashboard-owner">
      <h3 class="pt-4">Dashboard</h3>
      <div class="row align-items-center">
        <div class="col dashboard-owner-options"><%= image_tag "icons-queue-management.svg" %> <%= link_to "Queue Management", queuers_path %></div>
        <div class="col dashboard-owner-options"><%= image_tag "icons-analytics.svg" %> Queue Analytics</div>
        <div class="col dashboard-owner-options"><%= image_tag "icons-discounts.svg" %> Rewards & Discounts</div>
      </div>
      <div class="row align-items-center">
        <div class="col dashboard-owner-options"><%= image_tag "icons-restaurant-profile.svg" %>  Restaurant Details</div>
        <div class="col dashboard-owner-options"><%= image_tag "icons-queue-history.svg" %>  Queue History</div>
        <div class="col dashboard-owner-options"><%= image_tag "icons-ratings.svg" %> <%= link_to "Reviews & Ratings", restaurant_reviews_path(@restaurant), method: :post %>
        </div>
      </div>
    </div>
    <!-- Live Queue-->
    <div class="col-4 live-queue">
      <div class="show-next-queuer">
        <% if @next_queuer.present? %>
          <p>Next Queuer: <%= @next_queuer.reservation_name %></p>
          <p>Size: <%= @next_queuer.size %></p>
        <% else %>
          <p>No queuers in queue</p>
        <% end %>

        <div class="next-queuer-actions">
          <% if @next_queuer.present? %>
            <%= button_to remove_queuer_queuer_path(@next_queuer), method: :delete, class: "no-btn-style" do %>
            <div class="btn-action shadow notify">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm0 48v40.805c-22.422 18.259-58.168 46.651-134.587 106.49-16.841 13.247-50.201 45.072-73.413 44.701-23.208.375-56.579-31.459-73.413-44.701C106.18 199.465 70.425 171.067 48 152.805V112h416zM48 400V214.398c22.914 18.251 55.409 43.862 104.938 82.646 21.857 17.205 60.134 55.186 103.062 54.955 42.717.231 80.509-37.199 103.053-54.947 49.528-38.783 82.032-64.401 104.947-82.653V400H48z"/></svg>
              <p>Notify</p>
            </div>
            <% end %>
            <%= button_to remove_queuer_queuer_path(@next_queuer), method: :delete, class: "no-btn-style", :confirm => "Are you sure?" do %>
            <div class="btn-action shadow remove">
              <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><title>exit_to_app</title><g fill="none"><path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5a2 2 0 0 0-2 2v4h2V5h14v14H5v-4H3v4a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z" fill="#212121"></path></g></svg>              <p>Remove</p>
            </div>
            <% end %>
          <% else %>
            <%= link_to "Notify", "", class: "btn btn-primary" %>
            <%= link_to "Remove", "", class: "btn btn-danger" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="container analytics">
    <h3 class="pt-4">Queue Analytics</h3>
    <%= select_month(Date.today) %>
    <div class="chart" >
      <%= line_chart Queuer.group_by_day(:created_at).count, width: "100%", height: "240px", colors: ["pink"], empty: "No data", download: true %>
    </div>
</div>
