<div class="col-lg-0"></div>
<div class="row">
<div class="col-lg-6">
<%# restaurant photo and name banner %>
  <div class="restaurant-name-container shadow" <% if @restaurant.photos.attached? %>
                  style="height: 100px; background-image: url('<%= cl_image_path @restaurant.photos.first.key %>')"
                <% else %>
                  style="height: 100px; opacity: 50%; background-image: url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80')"
                <% end %>>
    <div class="restaurant-title-container">
      <h1><%= @restaurant.name  %></h1>
    </div>
  </div>
<%# Queuer Details %>
  <div class="title-container ">
    <div>
      <h3>RESERVATION NAME:</h3>
      <h1><%= @queuer.reservation_name.capitalize %></h1>
    </div>
<%# leacve queue %>
    <div class="align-self-center">
      <%= button_to "Leave the Queue",
                queuer_path(@queuer),
                method: :delete,
                class: "leave-btn",
                data: { confirm: "Are you sure?" } %>
    </div>
  </div>
<%# Auto updated queue information  %>
  <div data-controller="queue-time" id="queuer-<%= @queuer.id %>">
    <div class="info-card-container">

      <div class="info-card ">
        <div class="icon-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><title>groups</title><g fill="none"><path d="M12 12.75c1.63 0 3.07.39 4.24.9 1.08.48 1.76 1.56 1.76 2.73V18H6v-1.61c0-1.18.68-2.26 1.76-2.73 1.17-.52 2.61-.91 4.24-.91zM4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29zM20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57zM12 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3z" fill="#212121"></path></g></svg>
          <p class="card-restaurant-icon-number" data-queue-time-target="people"><%= @number_of_people %></p>
          <p class="small">People Ahead</p>
        </div>
      </div>

      <div class="info-card ">
        <div class="icon-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><title>emoji_people</title><g fill="none"><path d="M12 6a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill="#212121"></path><path d="M15.89 8.11C15.5 7.72 14.83 7 13.53 7h-2.54C8.24 6.99 6 4.75 6 2H4c0 3.16 2.11 5.84 5 6.71V22h2v-6h2v6h2V10.05L18.95 14l1.41-1.41-4.47-4.48z" fill="#212121"></path></g></svg>
          <p class="card-restaurant-icon-number" data-queue-time-target="position"><%= @position %></p>
          <p class="small" >Place</p>
        </div>
      </div>

      <div class="info-card " id="queuer">
        <div class="icon-container">
          <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><title>access_time</title><g fill="none"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z" fill="#212121"></path></g></svg>
          <p class="card-restaurant-icon-number" data-queue-time-target="time"><%= @time %></p>
          <p class="small" >Wait Time</p>
        </div>
      </div>

    </div>
    <%# Estimated wait time %>
    <div class="title-container">
      <div class="dining-time-container">
        <div class="dining-card">
        <h3>Estimated Dining Time:</h3>
          <div class="d-flex justify-content-evenly dining-info">
            <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24"><title>romantic-restaurant</title><g fill="#212121"><path d="M16.621,5.121,12,9.743,7.379,5.121A3,3,0,0,1,11.621.879L12,1.257l.379-.378a3,3,0,1,1,4.242,4.242Z"></path><path d="M17,16a1,1,0,0,0,0-2H7a1,1,0,0,0,0,2h4v8h2V16Z" fill="#212121"></path><path d="M22,12v6H17a1,1,0,0,0-1,1v5h2V20h4v4h2V12Z" fill="#212121"></path><path d="M7,18H2V12H0V24H2V20H6v4H8V19A1,1,0,0,0,7,18Z" fill="#212121"></path></g></svg>
            <h1 data-queue-time-target="dine"><%= @dine_time %></h1>
          </div>
        </div>
      </div>
    </div>
    </div>
</div>

  <div class="map-container col-lg-6">
    <div class="map-style" style="width: 100%; height: 550px; overflow:hidden; border-radius: 0px 20px 0px 0px;"
        data-controller="mapbox"
        data-mapbox-markers-value="<%= @markers.to_json %>"
        data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"></div>
  </div>
</div>
